(()=>{var e={424:(e,t,n)=>{"use strict";var a=n(964);a._K2.allowLocalModels=!1;class s{constructor(e,t,n){this.tokenizer=e,this.model=t,this.quantized=n}static async getInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===this.instance&&(this.instance=(0,a.TkF)(this.task,this.model,{quantized:this.quantized,progress_callback:e,revision:this.model.includes("/whisper-medium")?"no_attentions":"main"})),this.instance}}s.task=null,s.model=null,s.quantized=null,s.instance=null;let i=null;async function o(e){if(i)return i;return postMessage({status:"initiate"}),await async function(e,t,n,a,s,i){const o=t.startsWith("distil-whisper/");let r=t;o||n||(r+=".en");const u=l;u.model===r&&u.quantized===a||(u.model=r,u.quantized=a,null!==u.instance&&((await u.getInstance()).dispose(),u.instance=null));return await u.getInstance((e=>{postMessage(e)}))}(e.audio,e.model,e.multilingual,e.quantized,e.subtask,e.language)}onmessage=async e=>{const t=e.data;if(t.init)i=await o(t);else{(new Date).getTime();let e=await r(t.audio,t.model,t.multilingual,t.quantized,t.subtask,t.language);if(null===e)return;postMessage({status:"complete",task:"automatic-speech-recognition",data:e})}};class l extends s{}l.task="automatic-speech-recognition",l.model=null,l.quantized=null;const r=async(e,t,n,a,s,l)=>{const r=t.startsWith("distil-whisper/");i||(i=await o({audio:e,model:t,multilingual:n,quantized:a,subtask:s,language:l}));let u=i;const c=u.processor.feature_extractor.config.chunk_length/u.model.config.max_source_positions;let d=[{tokens:[],finalised:!1}];return await u(e,{top_k:0,do_sample:!1,chunk_length_s:r?20:30,stride_length_s:r?3:5,language:l,task:s,return_timestamps:!0,force_full_sequences:!1,callback_function:function(e){d[d.length-1].tokens=[...e[0].output_token_ids];let t=u.tokenizer._decode_asr(d,{time_precision:c,return_timestamps:!0,force_full_sequences:!1});postMessage({status:"update",task:"automatic-speech-recognition",data:t})},chunk_callback:function(e){let t=d[d.length-1];Object.assign(t,e),t.finalised=!0,e.is_last||d.push({tokens:[],finalised:!1})}}).catch((e=>(postMessage({status:"error",task:"automatic-speech-recognition",data:e}),null)))}},52:()=>{},143:()=>{},603:()=>{},806:()=>{},615:()=>{},9:()=>{},837:()=>{},499:()=>{}},t={};function n(a){var s=t[a];if(void 0!==s)return s.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,n),i.exports}n.m=e,n.x=()=>{var e=n.O(void 0,[964],(()=>n(424)));return e=n.O(e)},(()=>{var e=[];n.O=(t,a,s,i)=>{if(!a){var o=1/0;for(c=0;c<e.length;c++){a=e[c][0],s=e[c][1],i=e[c][2];for(var l=!0,r=0;r<a.length;r++)(!1&i||o>=i)&&Object.keys(n.O).every((e=>n.O[e](a[r])))?a.splice(r--,1):(l=!1,i<o&&(o=i));if(l){e.splice(c--,1);var u=s();void 0!==u&&(t=u)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[a,s,i]}})(),(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(a,s){if(1&s&&(a=this(a)),8&s)return a;if("object"===typeof a&&a){if(4&s&&a.__esModule)return a;if(16&s&&"function"===typeof a.then)return a}var i=Object.create(null);n.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var l=2&s&&a;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((e=>o[e]=()=>a[e]));return o.default=()=>a,n.d(i,o),i}})(),n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,a)=>(n.f[a](e,t),t)),[])),n.u=e=>"static/js/"+e+".a8cf587d.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={750:1};n.f.i=(t,a)=>{e[t]||importScripts(n.p+n.u(t))};var t=self.webpackChunkvoice2llm_ui=self.webpackChunkvoice2llm_ui||[],a=t.push.bind(t);t.push=t=>{var s=t[0],i=t[1],o=t[2];for(var l in i)n.o(i,l)&&(n.m[l]=i[l]);for(o&&o(n);s.length;)e[s.pop()]=1;a(t)}})(),(()=>{var e=n.x;n.x=()=>n.e(964).then(e)})();n.x()})();
//# sourceMappingURL=750.7eb00064.chunk.js.map